((?:(\?-?[ixmgd]+(?:-[idgmx]+)?)|(\(\?\&\w+\))|(\((?:\?\:|\?!|\?=]|\?<!|\?<=|\?>)(?R)\))|(\((?R)\))|(\\\\?[\\|{}?[\]()AaBbDdSsWwnNhHvVK0-9])|(\[\^?[^\]]+\])|([\w.^$-]+))(?:[+*?]?[?+]?|\{\d+\})|(\|))+